<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>区跨链-Java</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <!--<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.js"></script>-->
    <script src="../static/js/jquery-3.3.1.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="../static/css/bootstrap.css">
    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="../static/css/bootstrap-theme.css">
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="../static/js/bootstrap.min.js"></script>
</head>
<body class="container" style="color: white;background: url('../static/img/1.jpg')">
    <div class="container">
        <div class="form row">
            <div class="form-horizontal col-md-offset-3" id="login_form">
                <h3 class="form-title" style="color: white">项目管理平台-注册</h3>
                <div class="col-md-9">
                    <div class="form-group">
                        <i class="fa fa-user fa-lg"></i>
                        <input class="form-control required" type="text" placeholder="用户名" id="username" name="username" autofocus="autofocus" maxlength="20"/>
                    </div>
                    <div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="password" placeholder="密码" id="password" name="password" maxlength="8"/>
                    </div>
                    <div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="password" placeholder="确认密码" id="affirm_password" name="password" maxlength="8"/>
                    </div>
                    <!--<div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="password" placeholder="钱包地址" id="money_address" name="password" maxlength="8"/>
                    </div>
                    <div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="password" placeholder="公钥" id="publickey" name="password" maxlength="8"/>
                    </div>
                    <div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="password" placeholder="私钥" id="privatekey" name="password" maxlength="8"/>
                    </div>
                    <div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="password" placeholder="用户凭证" id="user_voucher" name="password" maxlength="8"/>
                    </div>-->
                    <div class="form-group">
                        <i class="fa fa-lock fa-lg"></i>
                        <input class="form-control required" type="number" placeholder="手机号" id="phone" name="phone" maxlength="8"/>
                    </div>
                    <div class="form-group col-md-offset-9">
                        <button type="submit" class="btn btn-success pull-left" id="login" name="submit">登录</button>
                        <button type="submit" class="btn btn-info pull-right" id="register" name="submit">注册</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    $(document).ready(function(){
        $("#login").click(function(){
            window.location.href = "login";
        });
        $("#register").click(function(){
            var username = $("#username").val();
            var password = $("#password").val();
            var affirm_password = $("#affirm_password").val();
            var phone = $("#phone").val();
            if(username == ""){
                alert("用户名不能为空");
                return;
            }else if(password ==""){
                alert("密码不能为空");
                return
            }else if(password != affirm_password){
                alert("二次输入的密码不一致");
                return
            }else if(phone == ""){
                alert("手机号不能为空")
                return
            }
            var json = {"data":{"username":username, "pwd":password, "phone":phone},"info":{"timestamp":"1525225818420"}};

            $.ajax({
                type:"POST",
                url:"/user/register",
                contentType: "application/json", //必须这样写
                dataType:"json",
                data:JSON.stringify(json),//schoolList是你要提交是json字符串
                success:function (data) {
                    if(data.info.status == 200){
                        alert(data.info.message);
                    }else{
                        alert(data.info.message);
                    }
                }
            });
        });
    });
</script>
</html>